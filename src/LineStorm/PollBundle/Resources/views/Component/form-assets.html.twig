
<script type="text/javascript">
    define(['jquery'], function ($) {
        $(document).ready(function(){
            $('.post-components').on('click', '.add-poll-option', function(e){
                e.preventDefault();
                e.stopPropagation();

                var $form = $(this).closest('.poll-option-form');
                var $ctr = $form.find('.poll-option-container');
                var indexer = {count: parseInt($form.data('index'))};
                var $newOption = addForm($ctr, $(this).data('prototype'), indexer, '__option_name__');
                $form.data('index', indexer.count);

                $newOption.find('input[name*="[order]"]').val(indexer.count);
                return false;
            });
            $('.post-components').on('click', '.post-option-remove', function(e){
                e.preventDefault();
                e.stopPropagation();
                $(this).closest('.poll-option-wrapper').remove();
                return false;
            });
        });
    });
</script>
